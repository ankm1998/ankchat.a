<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>App by-Aash</title>
        <script type="text/JavaScript>
                      var viewMode = getCookie("view-mode");
if(viewMode == "desktop"){
    viewport.setAttribute('content', 'width=1024');
}else if (viewMode == "mobile"){
    viewport.setAttribute('content', 'width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no');
}
                              </script>
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.js"></script>
        <link href="/styles.css" rel="stylesheet" />
    </head>
    <body>

        <div id="mario-chat">
            <div class="header_space"><h2>AN's CHAT ROOM</h2></div>
            <div id="chat-window">
                <div id="output"></div>
                <div id="feedback"></div>
             </div>
             <input id="handle" type="text" value="your name" onkeyup ="clean('handle')" onkeydown="clean('handle')">
            <input id="message" type="text" placeholder="Message..." onkeyup ="clean('message')" onkeydown="clean('message')" style="background-color:rgb(179, 230, 179); height:60px; color:black; box-sizing:border-box; border:2px inset;">
            <div class="but"><button id="send" onclick ="return validateText('send'); clear('send');">Send</button>            <button id="refresh" onClick="location.href=location.href">clear all</button>
            </div>
        </div>
        <script type="text/javascript">
        function clean(e) {
            var textfield = document.getElementById(e);
            var regex = /[^a-z 0-9?!.,'😀😁😂😃😄😅😆😉😊😋😎😍😘😗😙😚☺😐😑😶😏😣😥😮😯😪😫😴😌😛😜😝😒😓😔😕😲😖😞😟😤😢😭😦😧😨😩😬😰😱😳😵😡😠😷😇😈👿👹👺💀👻👽👾💩😺😸😹😻😼😽🙀😿😾🙈🙉🙊👶👦👧👨👩👴👵👮💂👷👸👳👲👱👰👼🎅🙍🙎🙅🙆💁🙋🙇💆💇🚶🏃💃👯🛀👤👥🏇🏂🏄🚣🏊🚴🚵👫👬👭💏💑👪💪👈👉👆👇✌✋👌👍👎👊👊👋👏👐🙌🙏💅👂👃👣👀👅👄💋💘❤💓💔💕💖💗💙💚💛💜💝💞💟💌💤💢💣💥💦💨💫💬💭👓👔👕👗👗👙👜]/gi;
            textfield.value = textfield.value.replace(regex,"")
        }
            
            function validateText() {
                var box = document.getElementById("handle");
                var box2 = document.getElementById("message");
                if(box.value=="" || box2.value=="") {
                    alert("ERR:NAME AS WELL AS MESSAGE FIELDS SHOULD NOT BE BLANK");
                    return false;
                }
            }
        </script>
    
    <script src="/chat.js"></script>

</body></html>
 
